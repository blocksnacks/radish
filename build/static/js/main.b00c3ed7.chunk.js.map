{"version":3,"sources":["contexts/AppContext.js","components/Login/index.js","components/EmailDialog/index.js","constants.js","components/SelectUser/index.js","api.js","components/SelectGroup/index.js","components/Navbar/index.js","components/hocs/addNavbar.js","components/hocs/authNeeded.js","components/LandingPage/index.js","components/CircularProgress/index.js","components/InvitationPage/index.js","models/ModelValidator.js","models/SharedDocument.js","components/Shared/index.js","components/UploadFile/index.js","components/App/index.js","index.js"],"names":["userSession","UserSession","appConfig","AppConfig","configure","apiServer","process","DOMAIN","AppContext","createContext","Login","_ref","nullUsername","_useContext","useContext","loggedIn","react_default","a","createElement","react_router","to","className","Button","fullWidth","onClick","redirectToSignIn","variant","color","EmailDialog","setEmailNotEntered","_useState","useState","_useState2","Object","slicedToArray","emailAddress","setEmailAddress","_useState3","_useState4","open","setOpen","_useState5","_useState6","submitting","setSubmitting","_useState7","_useState8","errored","setErrored","useEffect","_ref2","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","Central","save","email","t0","console","error","stop","apply","this","arguments","submitEmail","Dialog","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","margin","label","type","onChange","evt","target","value","DialogActions","disabled","SelectUser","selectUser","deselectUser","selectedUsers","search","setSearch","userList","setUserList","length","User","fetchList","username","$regex","limit","fields","then","map","user","attrs","Fragment","Input","selected","MenuItem","key","filter","includes","sendEmails","recipients","groupName","body","creator","loadUserData","fetch","method","JSON","stringify","headers","Content-Type","sent","json","abrupt","_x","_x2","_x3","withRouter","history","setUserGroup","setGroupName","group","setGroup","setSelectedUsers","tempUserGroup","setTempUserGroup","_useState9","setInvites","_useState11","_useState12","possibleGroups","setPossibleGroups","UserGroup","myGroups","createUserGroup","newGroup","name","create","prevGroups","concat","inviteUsers","_ref3","_callee3","newInvites","_context3","Promise","all","_ref4","_callee2","blockstackId","_ref5","inviteId","_context2","makeGroupMembership","_id","invites","toConsumableArray","Select","pGroup","_ref6","components_SelectUser","userIndex","indexOf","slice","push","pathname","location","setValue","Paper","Tabs","_","val","indicatorColor","textColor","centered","Tab","component","Link","signUserOut","addNavbar","Component","props","Navbar","authNeeded","emailNotEntered","components_SelectGroup","components_CircularProgress","CircularProgress","size","GroupInvitation","noop","activate","params","match","isAccepted","setIsAccepted","invitation","invitation_id","setTimeout","Container","RADIKS_DEFAULT_PROPERTIES","SharedDocument","ModelValidator","_this","undefined","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","allowedAttrsSet","Set","keys","schema","forEach","attr","has","Error","modelName","Model","String","extension","mimeType","userGroupId","decrypted","uploadedBy","Number","content","docs","setDocs","errorFetching","setErrorFetching","fetching","setFetching","downloadInProgress","setDownloadInProgress","_useState10","activeDoc","setActiveDoc","_docs","t1","id","createdDate","createdAt","t2","aTag","document","href","download","click","Table","TableHead","TableRow","TableCell","TableBody","doc","bytes","useStyles","makeStyles","theme","fab","spacing","button","userGroup","classes","fileInput","useRef","fileList","setFileList","submitted","setSubmitted","fileObj","resolve","reader","FileReader","onload","fileStr","sharedDoc","result","split","pop","readAsDataURL","submitDocuments","multiple","ref","Array","from","current","files","htmlFor","Fab","aria-label","Add","file","App","loading","setLoading","setError","isUserSignedIn","isSignInPending","handlePendingSignIn","createWithCurrentUser","handleSignIn","exact","path","LandingPage","UploadFile","Shared","InvitationPage","ReactDOM","render","children","setLoggedIn","userSettings","get","Provider","react_router_dom","components_App","getElementById"],"mappings":"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","file":"static/js/main.b00c3ed7.chunk.js","sourcesContent":["import React, { \n  createContext, \n  useState, \n  useEffect \n} from 'react';\nimport { UserSession, AppConfig } from 'blockstack';\nimport { configure, Central } from 'radiks';\nimport { USER_SETTINGS } from '../constants';\n\nconst userSession = new UserSession({\n  appConfig: new AppConfig(['store_write', 'publish_data'])\n});\n\nconfigure({\n  apiServer: process.env.DOMAIN || 'http://localhost:1260',\n  userSession\n});\n\nexport const AppContext = createContext()\n\nexport const AppContextProvider = ({ children }) => {\n  const [userGroup, setUserGroup] = useState(null);\n  const [loggedIn, setLoggedIn] = useState(userSession.isUserSignedIn());\n  const [emailNotEntered, setEmailNotEntered] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      if (loggedIn) {\n        const userSettings = await Central.get(USER_SETTINGS);\n        // check to see if user is missing email in central collection\n        setEmailNotEntered(!userSettings || !userSettings.email);\n      } else setLoggedIn(false);\n    })();\n  }, [loggedIn]);\n\n  return (\n    <AppContext.Provider\n      value={{\n        userSession,\n        userGroup,\n        setUserGroup,\n        emailNotEntered,\n        loggedIn\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  )\n}","import React, { useContext } from 'react';\nimport { Button } from '@material-ui/core';\nimport { Redirect } from 'react-router-dom';\n\nimport './Login.css';\n\nimport { AppContext } from '../../contexts/AppContext';\n\nconst Login = ({ nullUsername }) => {\n  const { userSession, loggedIn } = useContext(AppContext);\n  return (\n    !loggedIn\n      ? (\n        <div className=\"App\">\n          <header className=\"App-header\">\n            <div className=\"sign-in\">\n              <h5>{`Elegant, secure file sharing \\n on the blockchain`}</h5>\n              <Button\n                fullWidth\n                onClick={() => userSession.redirectToSignIn()}\n                variant=\"contained\"\n                color=\"primary\"\n              >\n                Log in\n              </Button>\n              {nullUsername && <p>Your username is not yet registered. Please come back again once your registration process is complete.</p>}\n            </div>\n          </header>\n        </div>\n      )\n      : <Redirect to=\"/\" />\n  );\n}\n\nexport default Login;","import React, { useState, useEffect } from 'react';\nimport { Central } from 'radiks';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { USER_SETTINGS } from '../../constants';\n\nexport default ({ setEmailNotEntered }) => {\n  const [emailAddress, setEmailAddress] = useState('');\n  const [open, setOpen] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const [errored, setErrored] = useState(false);\n\n  useEffect(() => {\n    const submitEmail = async () => {\n      try {\n        await Central.save(USER_SETTINGS, { email: emailAddress });\n        setOpen(false);\n        setEmailNotEntered(false);\n      } catch (err) {\n        console.error(err);\n        setErrored(true);\n      }\n    };\n    if (submitting) {\n      submitEmail();\n    }\n  }, [submitting, emailAddress, setEmailNotEntered]);\n\n  return (\n    <Dialog open={open}>\n      <DialogTitle>Please Enter Your Email</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          {errored\n            ? 'Something went wrong. Please reload the page.'\n            : 'In order to share files with other users, you must enter your email address.'}\n        </DialogContentText>\n        <TextField\n          autoFocus\n          margin=\"dense\"\n          label=\"Email Address\"\n          type=\"email\"\n          fullWidth\n          onChange={evt => setEmailAddress(evt.target.value)}\n          value={emailAddress}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={() => setSubmitting(true)}\n          color=\"primary\"\n          disabled={submitting || !emailAddress}\n        >Sign Up</Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n","export const USER_SETTINGS = 'UserSettings';\nexport const ERROR_POSTING_EMAILS = 'ErrorPostingEmails';\n","import React, { useState, useEffect } from 'react';\nimport { User } from 'radiks';\nimport { Input, MenuItem } from '@material-ui/core';\n\nconst USER_FETCH_LIMIT = 15;\nconst USER_FETCH_FIELDS = 'username';\n\nconst SelectUser = ({ selectUser, deselectUser, selectedUsers }) => {\n  const [search, setSearch] = useState('');\n  const [userList, setUserList] = useState([]);\n\n  useEffect(() => {\n    if (search.length > 2) {\n      User.fetchList({\n        username: { $regex: search },\n        limit: USER_FETCH_LIMIT,\n        fields: USER_FETCH_FIELDS\n      })\n        .then(userList => {\n          setUserList(userList.map(user => user.attrs.username));\n        });\n    } else {\n      setUserList([]);\n    }\n  }, [search]);\n\n  return (\n    <>\n      <Input\n        fullWidth\n        value={search}\n        onChange={evt => setSearch(evt.target.value)}\n      />\n      {selectedUsers.length\n        ? (\n          selectedUsers.map(selected => (\n            <MenuItem\n              key={selected}\n              value={selected}\n              onClick={() => deselectUser(selected)}\n            >Selected: {selected}</MenuItem>\n          ))\n        )\n        : null}\n      {userList.length\n        ? (\n          userList\n            .filter(user => !selectedUsers.includes(user))\n            .map(user => (\n              <MenuItem\n                key={user}\n                value={user}\n                onClick={() => selectUser(user)}\n              >\n                {user}\n              </MenuItem>\n            ))\n        )\n        : null}\n    </>\n  );\n}\n\nexport default SelectUser;","import { ERROR_POSTING_EMAILS } from './constants';\n\nexport const sendEmails = async (recipients, groupName, userSession) => {\n  const body = {\n    recipients,\n    creator: userSession.loadUserData().username,\n    groupName,\n  };\n  try {\n    return await (await fetch('/email/invite-users/', {\n      method: 'POST',\n      body: JSON.stringify(body),\n      headers: { 'Content-Type': 'application/json' }\n    })).json();\n  } catch (err) {\n    console.error(err);\n    return ERROR_POSTING_EMAILS;\n  }\n}","import React, { \n  useState, \n  useEffect, \n  useContext \n} from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Input from '@material-ui/core/Input';\nimport Button from '@material-ui/core/Button';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { UserGroup } from 'radiks';\n\nimport SelectUser from '../SelectUser';\nimport { sendEmails } from '../../api';\nimport { AppContext } from '../../contexts/AppContext';\n\nconst SelectGroup = ({ history }) => {\n  const { userSession, setUserGroup } = useContext(AppContext);\n  const [groupName, setGroupName] = useState('');\n  const [group, setGroup] = useState(null);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const [tempUserGroup, setTempUserGroup] = useState('');\n  const [, setInvites] = useState([]);\n  const [possibleGroups, setPossibleGroups] = useState([]);\n\n  useEffect(() => {\n    UserGroup.myGroups().then(setPossibleGroups);\n  }, []);\n\n  const selectUser = (user) => setSelectedUsers(selectedUsers.concat(user));\n\n  const deselectUser = (user) => {\n    const userIndex = selectedUsers.indexOf(user);\n    setSelectedUsers(selectedUsers.slice(0, userIndex).concat(selectedUsers.slice(userIndex + 1)));\n  };\n\n  const createUserGroup = async () => {\n    if (!groupName) return;\n    const newGroup = await new UserGroup({ name: groupName }).create();\n    setGroup(newGroup);\n    setTempUserGroup(newGroup);\n    setPossibleGroups(prevGroups => prevGroups.concat(newGroup));\n  };\n\n  const inviteUsers = async () => {\n    try {\n      const newInvites = await Promise.all(selectedUsers.map(async (blockstackId) => {\n        const { _id: inviteId } = await group.makeGroupMembership(blockstackId)\n        return { blockstackId, inviteId };\n      }));\n      setInvites(invites => [...invites, newInvites]);\n      sendEmails(newInvites, groupName, userSession);\n    } catch (err) {\n      console.error('fail to send invites: %o', err);\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"form-container\">\n        <h2>Choose a group to share with</h2>\n        <Select\n          onChange={evt => setTempUserGroup(evt.target.value)}\n          value={tempUserGroup}\n        >\n          {possibleGroups.map(pGroup => (\n            <MenuItem value={pGroup} key={pGroup._id}>{pGroup.attrs.name}</MenuItem>\n          ))}\n        </Select>\n        <h2>...or create a new group</h2>\n        <div>\n          <h3>\n            Enter Usergroup Name\n          </h3>\n          <div className=\"input-container\">\n            <Input\n              autoFocus              \n              fullWidth\n              value={groupName}\n              onChange={({ target }) => setGroupName(target.value)}\n            />\n          </div>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={createUserGroup}\n            disabled={(!group && !groupName.length) || !!group}\n          >\n            Create User Group\n          </Button>\n        </div>\n        <div>\n          <h3>Select Recipients</h3>\n          <div className=\"input-container\">\n            <SelectUser\n              selectUser={selectUser}\n              deselectUser={deselectUser}\n              selectedUsers={selectedUsers}\n            />\n          </div>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={inviteUsers}\n            disabled={!group || !selectedUsers.length}\n          >\n            Invite Users\n          </Button>\n        </div>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          onClick={() => {\n            setUserGroup(tempUserGroup)\n            history.push('/upload')\n          }}\n          disabled={!tempUserGroup}\n        >\n          Share With This Group\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(SelectGroup);","import React, { useState, useContext } from 'react';\nimport {\n  Paper,\n  Tabs,\n  Tab,\n  Button\n} from '@material-ui/core';\nimport { Link, withRouter } from 'react-router-dom';\n\nimport { AppContext } from '../../contexts/AppContext';\n\nconst NavBar = ({ location: { pathname } }) => {\n  const { userSession } = useContext(AppContext)\n  const [value, setValue] = useState(pathname === '/upload' ? '/' : pathname);\n  return (\n    <Paper>\n      <Tabs\n        value={value}\n        onChange={(_, val) => setValue(val)}\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n        centered\n      >\n        <Tab\n          label=\"Create Group\"\n          to=\"/\"\n          value=\"/\"\n          component={Link}\n        />\n        <Tab\n          label=\"Shared With Me\"\n          to=\"/shared\"\n          value=\"/shared\"\n          component={Link}\n        />\n        <Tab\n          label=\"Logout\"\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => userSession.signUserOut(process.env.DOMAIN || 'http://localhost:1260')}\n        />\n      </Tabs>\n    </Paper>\n  )\n}\n\nexport default withRouter(NavBar);","import React from 'react';\n\nimport Navbar from '../Navbar';\n\nexport const addNavbar = (Component) => (props) => (\n  <>\n    <Navbar/>\n    <Component {...props}/>\n  </>\n)","import React, { useContext } from \"react\";\nimport { AppContext } from \"../../contexts/AppContext\";\nimport { Redirect } from 'react-router-dom';\n\nexport const authNeeded = (Component) => (props) => {\n  const { loggedIn } = useContext(AppContext);\n  return loggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />\n}","import React from 'react';\n\nimport EmailDialog from '../EmailDialog';\nimport SelectGroup from '../SelectGroup';\nimport { authNeeded, addNavbar } from '../hocs';\n\nconst LandingPage = ({ emailNotEntered, setEmailNotEntered }) => {\n  return (\n    <div className=\"main-container\">\n      {emailNotEntered && <EmailDialog setEmailNotEntered={setEmailNotEntered} />}\n      <SelectGroup />\n    </div>\n  );\n};\n\nexport default authNeeded(addNavbar(LandingPage));","import CircularProgress from '@material-ui/core/CircularProgress';\nimport React from 'react';\nimport './circularprogress.css';\n\nexport default () => (\n  <div className=\"circular-progress\">\n    <CircularProgress size={100}/>\n  </div>\n);\n","import React, { useState, useEffect } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Container } from '@material-ui/core';\nimport CircularProgress from '../CircularProgress';\n\nimport './InvitationPage.css';\n\nimport { authNeeded, addNavbar } from '../hocs';\n\nconst noop = () => new Promise(_ => _()).then(() => ({ activate: noop }))\nconst GroupInvitation = { findById: noop }\n\nconst InvitationPage = ({ match: { params } }) => {\n  const [isAccepted, setIsAccepted] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      const invitation = await GroupInvitation.findById(params.invitation_id);\n      await invitation.activate();\n      await new Promise(_ => setTimeout(_, 3000));\n      setIsAccepted(true);\n    })();\n  }, [params.invitation_id]);\n\n  return (\n    !isAccepted\n      ? (\n        <Container>\n          <div className=\"content-container\">\n            <h3 className=\"invite-header\">Accepting the invitation to share {params.invitation_id}... Please wait!</h3>\n            <CircularProgress />\n          </div>\n        </Container>\n      )\n      : <Redirect to=\"/shared\" />\n  );\n};\n\nexport default authNeeded(addNavbar(InvitationPage));","import { Model } from 'radiks';\n\nconst RADIKS_DEFAULT_PROPERTIES = [\n  '_id',\n  'radiksType',\n  'createdAt',\n  'updatedAt',\n  'signingKeyId',\n  'radiksSignature'\n];\n\nclass ModelValidator extends Model {\n  constructor(attrs = {}) {\n    super(attrs);\n    const allowedAttrsSet = new Set(RADIKS_DEFAULT_PROPERTIES.concat(Object.keys(this.schema)));\n    Object.keys(attrs).forEach((attr) => {\n      if (!allowedAttrsSet.has(attr)) {\n        throw new Error(`${attr} is not in ${typeof this.modelName === 'function' ? this.modelName() : ''} schema`);\n      }\n    });\n  } \n}\n\nexport default ModelValidator;\n","import ModelValidator from './ModelValidator';\n\nexport default class SharedDocument extends ModelValidator {\n  static className = 'SharedDocument';\n  static schema = {\n    name: String,\n    extension: String,\n    mimeType: String,\n    userGroupId: {\n      type: String,\n      decrypted: true\n    },\n    uploadedBy: String,\n    size: Number,\n    content: String\n  }\n}\n","import React, { useState, useEffect } from 'react';\nimport {\n  Table,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableBody,\n  Button\n} from '@material-ui/core';\nimport bytes from 'bytes';\nimport './Shared.css';\n\nimport CircularProgress from '../CircularProgress';\n\nimport './Shared.css';\nimport { authNeeded, addNavbar } from '../hocs';\n\nimport SharedDocument from '../../models/SharedDocument';\n\nconst Shared = () => {\n  const [docs, setDocs] = useState([]);\n  const [errorFetching, setErrorFetching] = useState(false);\n  const [fetching, setFetching] = useState(false);\n  const [downloadInProgress, setDownloadInProgress] = useState(false);\n  const [activeDoc, setActiveDoc] = useState(null);\n\n  useEffect(() => {\n    (async function () {\n      try {\n        setFetching(true);\n        const docs = (await SharedDocument.fetchList())\n          .filter(({ attrs }) => typeof attrs.name === 'string')\n          .map(({ attrs}) => ({\n            id: attrs._id,\n            name: attrs.name,\n            createdDate: attrs.createdAt,\n            size: attrs.size,\n            uploadedBy: attrs.uploadedBy,\n            content: attrs.content,\n            mimeType: attrs.mimeType,\n          }));\n        setFetching(false);\n        setDocs(docs);\n      } catch (err) {\n        console.error(err);\n        setErrorFetching(true)\n      }\n    })();\n  }, [])\n\n  useEffect(() => {\n    (async function() {\n      if (downloadInProgress && activeDoc) {\n        const aTag = document.createElement('a');\n        aTag.href = activeDoc.content;\n        aTag.download = activeDoc.name;\n        aTag.click();\n        setActiveDoc(null);\n        setDownloadInProgress(false);\n      }\n    })();\n  }, [downloadInProgress, activeDoc]);\n\n  return (\n    <div>\n      <h2 className=\"table-title\">\n        Files Shared with me\n      </h2>\n      {errorFetching\n        ? <div>Error retrieving shared files</div>\n        : docs.length\n          ? (\n            <div className=\"table-container\">\n              <Table>\n                <TableHead>\n                  <TableRow>\n                    <TableCell>File ID</TableCell>\n                    <TableCell>File Name</TableCell>\n                    <TableCell>Created At</TableCell>\n                    <TableCell>Size</TableCell>\n                    <TableCell>Uploaded By</TableCell>\n                    <TableCell>Download</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {docs.map((doc) => (\n                    <TableRow key={doc.id}>\n                      <TableCell>{doc.id}</TableCell>\n                      <TableCell>{doc.name}</TableCell>\n                      <TableCell>{doc.createdDate}</TableCell>\n                      <TableCell>{bytes(doc.size)}</TableCell>\n                      <TableCell>{doc.uploadedBy}</TableCell>\n                      <TableCell>\n                        <Button\n                          disabled={downloadInProgress}\n                          onClick={() => {\n                            setActiveDoc(doc);\n                            setDownloadInProgress(true);\n                          }}\n                        >DL</Button>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </div>\n          )\n          : fetching\n            ? <CircularProgress />\n            : <div>You don't have any documents</div>\n          }\n    </div>\n  )\n}\n\nexport default authNeeded(addNavbar(Shared));","import React, {\n  useRef,\n  useEffect,\n  useState,\n  useContext\n} from 'react';\nimport { Redirect, withRouter } from 'react-router-dom';\nimport {\n  Button,\n  Fab,\n  makeStyles\n} from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\n\nimport './UploadFile.css';\n\nimport SharedDocument from '../../models/SharedDocument';\nimport { AppContext } from '../../contexts/AppContext';\nimport { authNeeded, addNavbar } from '../hocs';\n\nconst useStyles = makeStyles(theme => ({\n  fab: { margin: theme.spacing(1) },\n  button: { margin: theme.spacing(1) }\n}));\n\nconst UploadFile = ({ history }) => {\n  const { userGroup, userSession } = useContext(AppContext);\n  const classes = useStyles();\n  const fileInput = useRef(null);\n  const [fileList, setFileList] = useState(null);\n  const [submitted, setSubmitted] = useState(false);\n\n  useEffect(() => {\n    const submitDocuments = async () => {\n      if (submitted) {\n        setSubmitted(false);\n        // TODO add error catching to this async mess\n        await Promise.all(fileList.map(fileObj => new Promise((resolve) => {\n          const reader = new FileReader();\n          reader.onload = async (evt) => {\n            const fileStr = evt.target.result;\n            const sharedDoc = new SharedDocument({\n              name: fileObj.name,\n              extension: fileObj.name.split('.').pop(),\n              mimeType: fileObj.type,\n              userGroupId: userGroup._id,\n              uploadedBy: userSession.loadUserData().username,\n              size: fileObj.size,\n              content: fileStr,\n            });\n            await sharedDoc.save();\n            history.push('/shared');\n            resolve();\n          };\n          reader.readAsDataURL(fileObj);\n        })));\n        // Print some sort of success message here\n        setFileList(null);\n      }\n    };\n    submitDocuments();\n  }, [fileList, userGroup, userSession, submitted, history]);\n\n  const handleFileSubmit = () => {\n    setFileList(Array.from(fileInput.current.files));\n    if (!fileList || !fileList.length) {\n      return;\n    }\n    setSubmitted(true);\n  };\n\n  return (\n    userGroup\n      ? (\n        <div className=\"share-wrapper\">\n          <h2 className=\"share-header\">Share with {userGroup.attrs.name}</h2>\n          <div className=\"share-file-container\">\n            <section className=\"share-file-main\">\n              <div className=\"share-file-upload-file\">\n                <input\n                  id=\"hidden-file-input\"\n                  multiple\n                  type=\"file\"\n                  ref={fileInput}\n                  onChange={() => setFileList(Array.from(fileInput.current.files))}\n                />\n                <label htmlFor=\"hidden-file-input\">\n                  <Fab aria-label=\"add\" component=\"span\" color=\"primary\" className={classes.fab}>\n                    <Add />\n                  </Fab>\n                </label>\n                <p className=\"no-margin\">Click to add</p>\n                <p className=\"no-margin center\">files to share</p>\n                {fileList && fileList.length && (\n                  <>\n                    <div className=\"file-list\">\n                      <h4>Files to share:</h4>\n                      <ul>\n                        {fileList.map(file => <li className=\"no-margin\" key={file.name}>{file.name}</li>)}\n                      </ul>\n                    </div>\n                    <Button\n                      variant=\"contained\"\n                      color=\"primary\"\n                      className={classes.button}\n                      onClick={handleFileSubmit}\n                      fullWidth\n                    >\n                      Send Files\n                    </Button>\n                  </>\n                )}\n              </div>\n              <div className=\"share-file-description\">\n                <h1 className=\"no-margin\"> Simple Private BlockSnack File Sharing</h1>\n                <p>Add the files you'd like to share with your group</p>\n              </div>\n            </section>\n          </div>\n        </div>)\n      : <Redirect to=\"/\" />\n  );\n}\n\nexport default authNeeded(addNavbar(withRouter(UploadFile)));\n","import React, {\n  useEffect,\n  useState,\n  useContext\n} from 'react';\n\nimport { User } from 'radiks';\nimport { Switch, Route, Redirect } from 'react-router-dom';\n\nimport { AppContext } from '../../contexts/AppContext';\n\nimport Login from '../Login';\nimport LandingPage from '../LandingPage';\nimport CircularProgress from '../CircularProgress';\nimport InvitationPage from '../InvitationPage';\nimport Shared from '../Shared';\nimport UploadFile from '../UploadFile';\n\nconst App = () => {\n  const { userSession } = useContext(AppContext);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    const handleSignIn = async () => {\n      if (!userSession.isUserSignedIn() && userSession.isSignInPending()) {\n        await userSession.handlePendingSignIn();\n        try {\n          await User.createWithCurrentUser();\n        } catch (e) {\n          console.error(e, 'redirecting...');\n          setError(true);\n        }\n      }\n      setLoading(false);\n    };\n    handleSignIn();\n  }, [userSession]);\n\n  return (\n    error\n    ? <Redirect to=\"/\" />\n    : (<>\n      <Switch>\n        <Route exact path=\"/login\" component={Login} />}\n        <Route exact path=\"/\" component={loading ? CircularProgress : LandingPage} />\n        <Route exact path=\"/upload\" component={UploadFile} />\n        <Route exact path=\"/shared\" component={Shared} />\n        <Route path=\"/invitation/:invitation_id\" component={InvitationPage} />\n      </Switch>\n    </>)\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport './index.css';\n\nimport App from './components/App';\n\nimport { AppContextProvider } from './contexts/AppContext'\n\nReactDOM.render(\n  <AppContextProvider>\n    <Router>\n      <App />\n    </Router>\n  </AppContextProvider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}