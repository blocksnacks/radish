{"version":3,"sources":["contexts/AppContext.js","components/Login/index.js","components/Navbar/index.js","components/hocs/addNavbar.js","components/hocs/authNeeded.js","components/EmailDialog/index.js","constants.js","components/SelectUser/index.js","api.js","components/SelectGroup/index.js","components/LandingPage/index.js","components/CircularProgress/index.js","components/InvitationPage/index.js","models/ModelValidator.js","models/SharedDocument.js","components/Shared/index.js","components/UploadFile/index.js","components/App/index.js","index.js"],"names":["userSession","UserSession","appConfig","AppConfig","configure","apiServer","process","DOMAIN","AppContext","createContext","Login","_ref","nullUsername","_useContext","useContext","loggedIn","react_default","a","createElement","react_router","to","className","Button","fullWidth","onClick","redirectToSignIn","variant","color","withRouter","pathname","location","_useState","useState","_useState2","Object","slicedToArray","value","setValue","Paper","Tabs","onChange","_","val","indicatorColor","textColor","centered","Tab","label","component","Link","signUserOut","addNavbar","Component","props","Fragment","Navbar","authNeeded","isUserSignedIn","EmailDialog","setEmailNotEntered","emailAddress","setEmailAddress","_useState3","_useState4","open","setOpen","_useState5","_useState6","submitting","setSubmitting","_useState7","_useState8","errored","setErrored","useEffect","_ref2","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","Central","save","email","t0","console","error","stop","apply","this","arguments","submitEmail","Dialog","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","margin","type","evt","target","DialogActions","disabled","SelectUser","selectUser","deselectUser","selectedUsers","search","setSearch","userList","setUserList","length","User","fetchList","username","$regex","limit","fields","then","map","user","attrs","Input","selected","MenuItem","key","filter","includes","sendEmails","recipients","groupName","body","creator","loadUserData","fetch","method","JSON","stringify","headers","Content-Type","sent","json","abrupt","_x","_x2","_x3","history","setUserGroup","setGroupName","group","setGroup","setSelectedUsers","tempUserGroup","setTempUserGroup","_useState9","setInvites","_useState11","_useState12","possibleGroups","setPossibleGroups","UserGroup","myGroups","createUserGroup","newGroup","name","create","prevGroups","concat","inviteUsers","_ref3","_callee3","newInvites","_context3","Promise","all","_ref4","_callee2","blockstackId","_ref5","inviteId","_context2","makeGroupMembership","_id","invites","toConsumableArray","Select","pGroup","_ref6","components_SelectUser","userIndex","indexOf","slice","push","emailNotEntered","components_SelectGroup","components_CircularProgress","CircularProgress","size","GroupInvitation","noop","activate","params","match","isAccepted","setIsAccepted","invitation","invitation_id","setTimeout","Container","RADIKS_DEFAULT_PROPERTIES","SharedDocument","ModelValidator","_this","undefined","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","allowedAttrsSet","Set","keys","schema","forEach","attr","has","Error","modelName","Model","String","extension","mimeType","userGroupId","decrypted","uploadedBy","Number","content","useStyles","makeStyles","theme","fab","spacing","button","classes","docs","setDocs","errorFetching","setErrorFetching","fetching","setFetching","downloadInProgress","setDownloadInProgress","_useState10","activeDoc","setActiveDoc","_docs","t1","id","createdDate","createdAt","t2","aTag","document","href","download","click","Table","TableHead","TableRow","TableCell","TableBody","doc","bytes","Fab","aria-label","GetApp","userGroup","fileInput","useRef","fileList","setFileList","submitted","setSubmitted","fileObj","resolve","reader","FileReader","onload","fileStr","sharedDoc","result","split","pop","readAsDataURL","submitDocuments","multiple","ref","Array","from","current","files","htmlFor","Add","file","App","loading","setLoading","isSignInPending","handlePendingSignIn","createWithCurrentUser","handleSignIn","exact","path","LandingPage","UploadFile","Shared","InvitationPage","ReactDOM","render","children","setLoggedIn","userSettings","get","Provider","react_router_dom","components_App","getElementById"],"mappings":"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","file":"static/js/main.f0576839.chunk.js","sourcesContent":["import React, { \n  createContext, \n  useState, \n  useEffect \n} from 'react';\nimport { UserSession, AppConfig } from 'blockstack';\nimport { configure, Central } from 'radiks';\nimport { USER_SETTINGS } from '../constants';\n\nconst userSession = new UserSession({\n  appConfig: new AppConfig(['store_write', 'publish_data'])\n});\n\nconfigure({\n  apiServer: process.env.DOMAIN || 'https://sendfriend.herokuapp.com',\n  userSession\n});\n\nexport const AppContext = createContext()\n\nexport const AppContextProvider = ({ children }) => {\n  const [userGroup, setUserGroup] = useState(null);\n  const [loggedIn, setLoggedIn] = useState(userSession.isUserSignedIn());\n  const [emailNotEntered, setEmailNotEntered] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      if (loggedIn) {\n        const userSettings = await Central.get(USER_SETTINGS);\n        // check to see if user is missing email in central collection\n        setEmailNotEntered(!userSettings || !userSettings.email);\n      } else setLoggedIn(false);\n    })();\n  }, [loggedIn]);\n\n  return (\n    <AppContext.Provider\n      value={{\n        userSession,\n        userGroup,\n        setUserGroup,\n        emailNotEntered,\n        setEmailNotEntered,\n        loggedIn\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  )\n}","import React, { useContext } from 'react';\nimport { Button } from '@material-ui/core';\nimport { Redirect } from 'react-router-dom';\n\nimport './Login.css';\n\nimport { AppContext } from '../../contexts/AppContext';\n\nconst Login = ({ nullUsername }) => {\n  const { userSession, loggedIn } = useContext(AppContext);\n  return (\n    !loggedIn\n      ? (\n        <div className=\"App\">\n          <header className=\"App-header\">\n            <div className=\"sign-in\">\n              <h5>{`Elegant, secure file sharing \\n on the blockchain`}</h5>\n              <Button\n                fullWidth\n                onClick={() => userSession.redirectToSignIn()}\n                variant=\"contained\"\n                color=\"primary\"\n              >\n                Log in\n              </Button>\n              {nullUsername && (<p>Your username is not yet registered. Please come back again once your registration process is complete.</p>)}\n            </div>\n          </header>\n        </div>\n      )\n      : <Redirect to=\"/\" />\n  );\n}\n\nexport default Login;","import React, { useState, useContext } from 'react';\nimport {\n  Paper,\n  Tabs,\n  Tab,\n  Button\n} from '@material-ui/core';\nimport { Link, withRouter } from 'react-router-dom';\n\nimport { AppContext } from '../../contexts/AppContext';\n\nconst NavBar = ({ location: { pathname } }) => {\n  const { userSession } = useContext(AppContext)\n  const [value, setValue] = useState(pathname === '/upload' ? '/' : pathname);\n  return (\n    <Paper>\n      <Tabs\n        value={value}\n        onChange={(_, val) => setValue(val)}\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n        centered\n      >\n        <Tab\n          label=\"Create Group\"\n          to=\"/\"\n          value=\"/\"\n          component={Link}\n        />\n        <Tab\n          label=\"Shared With Me\"\n          to=\"/shared\"\n          value=\"/shared\"\n          component={Link}\n        />\n        <Tab\n          label=\"Logout\"\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => userSession.signUserOut(process.env.DOMAIN || 'https://sendfriend.herokuapp.com')}\n        />\n      </Tabs>\n    </Paper>\n  )\n}\n\nexport default withRouter(NavBar);","import React from 'react';\n\nimport Navbar from '../Navbar';\n\nexport const addNavbar = (Component) => (props) => (\n  <>\n    <Navbar/>\n    <Component {...props}/>\n  </>\n)","import React, { useContext } from \"react\";\nimport { AppContext } from \"../../contexts/AppContext\";\nimport { Redirect } from 'react-router-dom';\n\nexport const authNeeded = (Component) => (props) => {\n  const { userSession } = useContext(AppContext);\n  return userSession.isUserSignedIn() ? <Component {...props} /> : <Redirect to=\"/login\" />\n}","import React, { useState, useEffect } from 'react';\nimport { Central } from 'radiks';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { USER_SETTINGS } from '../../constants';\n\nexport default ({ setEmailNotEntered }) => {\n  const [emailAddress, setEmailAddress] = useState('');\n  const [open, setOpen] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const [errored, setErrored] = useState(false);\n\n  useEffect(() => {\n    const submitEmail = async () => {\n      try {\n        await Central.save(USER_SETTINGS, { email: emailAddress });\n        setOpen(false);\n        setEmailNotEntered(false);\n      } catch (err) {\n        console.error(err);\n        setErrored(true);\n      }\n    };\n    if (submitting) {\n      submitEmail();\n    }\n  }, [submitting, emailAddress, setEmailNotEntered]);\n\n  return (\n    <Dialog open={open}>\n      <DialogTitle>Please Enter Your Email</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          {errored\n            ? 'Something went wrong. Please reload the page.'\n            : 'In order to share files with other users, you must enter your email address.'}\n        </DialogContentText>\n        <TextField\n          autoFocus\n          margin=\"dense\"\n          label=\"Email Address\"\n          type=\"email\"\n          fullWidth\n          onChange={evt => setEmailAddress(evt.target.value)}\n          value={emailAddress}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={() => setSubmitting(true)}\n          color=\"primary\"\n          disabled={submitting || !emailAddress}\n        >Sign Up</Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n","export const USER_SETTINGS = 'UserSettings';\nexport const ERROR_POSTING_EMAILS = 'ErrorPostingEmails';\n","import React, { useState, useEffect } from 'react';\nimport { User } from 'radiks';\nimport { Input, MenuItem } from '@material-ui/core';\n\nconst USER_FETCH_LIMIT = 15;\nconst USER_FETCH_FIELDS = 'username';\n\nconst SelectUser = ({ selectUser, deselectUser, selectedUsers }) => {\n  const [search, setSearch] = useState('');\n  const [userList, setUserList] = useState([]);\n\n  useEffect(() => {\n    if (search.length > 2) {\n      User.fetchList({\n        username: { $regex: search },\n        limit: USER_FETCH_LIMIT,\n        fields: USER_FETCH_FIELDS\n      })\n        .then(userList => {\n          setUserList(userList.map(user => user.attrs.username));\n        });\n    } else {\n      setUserList([]);\n    }\n  }, [search]);\n\n  return (\n    <>\n      <Input\n        fullWidth\n        value={search}\n        onChange={evt => setSearch(evt.target.value)}\n      />\n      {selectedUsers.length\n        ? (\n          selectedUsers.map(selected => (\n            <MenuItem\n              key={selected}\n              value={selected}\n              onClick={() => deselectUser(selected)}\n            >Selected: {selected}</MenuItem>\n          ))\n        )\n        : null}\n      {userList.length\n        ? (\n          userList\n            .filter(user => !selectedUsers.includes(user))\n            .map(user => (\n              <MenuItem\n                key={user}\n                value={user}\n                onClick={() => selectUser(user)}\n              >\n                {user}\n              </MenuItem>\n            ))\n        )\n        : null}\n    </>\n  );\n}\n\nexport default SelectUser;","import { ERROR_POSTING_EMAILS } from './constants';\n\nexport const sendEmails = async (recipients, groupName, userSession) => {\n  const body = {\n    recipients,\n    creator: userSession.loadUserData().username,\n    groupName,\n  };\n  try {\n    return await (await fetch('/email/invite-users/', {\n      method: 'POST',\n      body: JSON.stringify(body),\n      headers: { 'Content-Type': 'application/json' }\n    })).json();\n  } catch (err) {\n    console.error(err);\n    return ERROR_POSTING_EMAILS;\n  }\n}","import React, { \n  useState, \n  useEffect, \n  useContext \n} from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Input from '@material-ui/core/Input';\nimport Button from '@material-ui/core/Button';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { UserGroup } from 'radiks';\n\nimport SelectUser from '../SelectUser';\nimport { sendEmails } from '../../api';\nimport { AppContext } from '../../contexts/AppContext';\n\nconst SelectGroup = ({ history }) => {\n  const { userSession, setUserGroup } = useContext(AppContext);\n  const [groupName, setGroupName] = useState('');\n  const [group, setGroup] = useState(null);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const [tempUserGroup, setTempUserGroup] = useState('');\n  const [, setInvites] = useState([]);\n  const [possibleGroups, setPossibleGroups] = useState([]);\n\n  useEffect(() => {\n    UserGroup.myGroups().then(setPossibleGroups);\n  }, []);\n\n  const selectUser = (user) => setSelectedUsers(selectedUsers.concat(user));\n\n  const deselectUser = (user) => {\n    const userIndex = selectedUsers.indexOf(user);\n    setSelectedUsers(selectedUsers.slice(0, userIndex).concat(selectedUsers.slice(userIndex + 1)));\n  };\n\n  const createUserGroup = async () => {\n    if (!groupName) return;\n    const newGroup = await new UserGroup({ name: groupName }).create();\n    setGroup(newGroup);\n    setTempUserGroup(newGroup);\n    setPossibleGroups(prevGroups => prevGroups.concat(newGroup));\n  };\n\n  const inviteUsers = async () => {\n    try {\n      const newInvites = await Promise.all(selectedUsers.map(async (blockstackId) => {\n        const { _id: inviteId } = await group.makeGroupMembership(blockstackId)\n        return { blockstackId, inviteId };\n      }));\n      setInvites(invites => [...invites, newInvites]);\n      sendEmails(newInvites, groupName, userSession);\n    } catch (err) {\n      console.error('fail to send invites: %o', err);\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"form-container\">\n        <h2>Choose a group to share with</h2>\n        <Select\n          onChange={evt => setTempUserGroup(evt.target.value)}\n          value={tempUserGroup}\n        >\n          {possibleGroups.map(pGroup => (\n            typeof pGroup.attrs.name === 'string' && (\n              <MenuItem value={pGroup} key={pGroup._id}>{pGroup.attrs.name}</MenuItem>\n            )\n          ))}\n        </Select>\n        <h2>...or create a new group</h2>\n        <div>\n          <h3>\n            Enter Usergroup Name\n          </h3>\n          <div className=\"input-container\">\n            <Input\n              autoFocus              \n              fullWidth\n              value={groupName}\n              onChange={({ target }) => setGroupName(target.value)}\n            />\n          </div>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={createUserGroup}\n            disabled={(!group && !groupName.length) || !!group}\n          >\n            Create User Group\n          </Button>\n        </div>\n        <div>\n          <h3>Select Recipients</h3>\n          <div className=\"input-container\">\n            <SelectUser\n              selectUser={selectUser}\n              deselectUser={deselectUser}\n              selectedUsers={selectedUsers}\n            />\n          </div>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={inviteUsers}\n            disabled={!group || !selectedUsers.length}\n          >\n            Invite Users\n          </Button>\n        </div>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          onClick={() => {\n            setUserGroup(tempUserGroup)\n            history.push('/upload')\n          }}\n          disabled={!tempUserGroup}\n        >\n          Share With This Group\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(SelectGroup);","import React, { useContext } from 'react';\n\nimport { authNeeded, addNavbar } from '../hocs';\nimport { AppContext } from '../../contexts/AppContext';\n\nimport EmailDialog from '../EmailDialog';\nimport SelectGroup from '../SelectGroup';\n\nconst LandingPage = () => {\n  const { emailNotEntered, setEmailNotEntered } = useContext(AppContext);\n  return (\n    <div className=\"main-container\">\n      {emailNotEntered && <EmailDialog setEmailNotEntered={setEmailNotEntered} />}\n      <SelectGroup />\n    </div>\n  );\n};\n\nexport default authNeeded(addNavbar(LandingPage));","import CircularProgress from '@material-ui/core/CircularProgress';\nimport React from 'react';\nimport './circularprogress.css';\n\nexport default () => (\n  <div className=\"circular-progress\">\n    <CircularProgress size={100}/>\n  </div>\n);\n","import React, { useState, useEffect } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Container } from '@material-ui/core';\nimport CircularProgress from '../CircularProgress';\n\nimport './InvitationPage.css';\n\nimport { authNeeded, addNavbar } from '../hocs';\n\nconst noop = () => new Promise(_ => _()).then(() => ({ activate: noop }))\nconst GroupInvitation = { findById: noop }\n\nconst InvitationPage = ({ match: { params } }) => {\n  const [isAccepted, setIsAccepted] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      const invitation = await GroupInvitation.findById(params.invitation_id);\n      await invitation.activate();\n      await new Promise(_ => setTimeout(_, 3000));\n      setIsAccepted(true);\n    })();\n  }, [params.invitation_id]);\n\n  return (\n    !isAccepted\n      ? (\n        <Container>\n          <div className=\"content-container\">\n            <h3 className=\"invite-header\">Accepting the invitation to share {params.invitation_id}... Please wait!</h3>\n            <CircularProgress />\n          </div>\n        </Container>\n      )\n      : <Redirect to=\"/shared\" />\n  );\n};\n\nexport default authNeeded(addNavbar(InvitationPage));","import { Model } from 'radiks';\n\nconst RADIKS_DEFAULT_PROPERTIES = [\n  '_id',\n  'radiksType',\n  'createdAt',\n  'updatedAt',\n  'signingKeyId',\n  'radiksSignature'\n];\n\nclass ModelValidator extends Model {\n  constructor(attrs = {}) {\n    super(attrs);\n    const allowedAttrsSet = new Set(RADIKS_DEFAULT_PROPERTIES.concat(Object.keys(this.schema)));\n    Object.keys(attrs).forEach((attr) => {\n      if (!allowedAttrsSet.has(attr)) {\n        throw new Error(`${attr} is not in ${typeof this.modelName === 'function' ? this.modelName() : ''} schema`);\n      }\n    });\n  } \n}\n\nexport default ModelValidator;\n","import ModelValidator from './ModelValidator';\n\nexport default class SharedDocument extends ModelValidator {\n  static className = 'SharedDocument';\n  static schema = {\n    name: String,\n    extension: String,\n    mimeType: String,\n    userGroupId: {\n      type: String,\n      decrypted: true\n    },\n    uploadedBy: String,\n    size: Number,\n    content: String\n  }\n}\n","import React, { useState, useEffect } from 'react';\nimport {\n  Table,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableBody,\n  Button,\n  Fab,\n  makeStyles\n} from '@material-ui/core';\nimport { GetApp } from '@material-ui/icons';\nimport bytes from 'bytes';\nimport './Shared.css';\n\nimport CircularProgress from '../CircularProgress';\n\nimport './Shared.css';\nimport { authNeeded, addNavbar } from '../hocs';\n\nimport SharedDocument from '../../models/SharedDocument';\n\nconst useStyles = makeStyles(theme => ({\n  fab: { margin: theme.spacing(1) },\n  button: { margin: theme.spacing(1) }\n}));\n\nconst Shared = () => {\n  const classes = useStyles();\n  const [docs, setDocs] = useState([]);\n  const [errorFetching, setErrorFetching] = useState(false);\n  const [fetching, setFetching] = useState(false);\n  const [downloadInProgress, setDownloadInProgress] = useState(false);\n  const [activeDoc, setActiveDoc] = useState(null);\n\n  useEffect(() => {\n    (async function () {\n      try {\n        setFetching(true);\n        const docs = (await SharedDocument.fetchList())\n          .filter(({ attrs }) => typeof attrs.name === 'string')\n          .map(({ attrs }) => ({\n            id: attrs._id,\n            name: attrs.name,\n            createdDate: attrs.createdAt,\n            size: attrs.size,\n            uploadedBy: attrs.uploadedBy,\n            content: attrs.content,\n            mimeType: attrs.mimeType,\n          }));\n        setFetching(false);\n        setDocs(docs);\n      } catch (err) {\n        console.error(err);\n        setErrorFetching(true)\n      }\n    })();\n  }, [])\n\n  useEffect(() => {\n    (async function () {\n      if (downloadInProgress && activeDoc) {\n        const aTag = document.createElement('a');\n        aTag.href = activeDoc.content;\n        aTag.download = activeDoc.name;\n        aTag.click();\n        setActiveDoc(null);\n        setDownloadInProgress(false);\n      }\n    })();\n  }, [downloadInProgress, activeDoc]);\n\n  return (\n    <div>\n      <h2 className=\"table-title\">\n        Files Shared with me\n      </h2>\n      {errorFetching\n        ? <div>Error retrieving shared files</div>\n        : docs.length\n          ? (\n            <div className=\"table-container\">\n              <Table>\n                <TableHead>\n                  <TableRow>\n                    <TableCell>File ID</TableCell>\n                    <TableCell>File Name</TableCell>\n                    <TableCell>Created At</TableCell>\n                    <TableCell>Size</TableCell>\n                    <TableCell>Uploaded By</TableCell>\n                    <TableCell>Download</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {docs.map((doc) => (\n                    <TableRow key={doc.id}>\n                      <TableCell>{doc.id}</TableCell>\n                      <TableCell>{doc.name}</TableCell>\n                      <TableCell>{doc.createdDate}</TableCell>\n                      <TableCell>{bytes(doc.size)}</TableCell>\n                      <TableCell>{doc.uploadedBy}</TableCell>\n                      <TableCell>\n                        <Button\n                          disabled={downloadInProgress}\n                          onClick={() => {\n                            setActiveDoc(doc);\n                            setDownloadInProgress(true);\n                          }}\n                        >\n                          <Fab aria-label=\"download\" component=\"span\" color=\"primary\" className={classes.fab}>\n                            <GetApp />\n                          </Fab>\n                        </Button>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </div>\n          )\n          : fetching\n            ? <CircularProgress />\n            : (\n              <div className=\"table-container\">\n                <div>You don't have any documents</div>\n              </div>\n            )\n      }\n    </div>\n  )\n}\n\nexport default authNeeded(addNavbar(Shared));","import React, {\n  useRef,\n  useEffect,\n  useState,\n  useContext\n} from 'react';\nimport { Redirect, withRouter } from 'react-router-dom';\nimport {\n  Button,\n  Fab,\n  makeStyles\n} from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\n\nimport './UploadFile.css';\n\nimport SharedDocument from '../../models/SharedDocument';\nimport { AppContext } from '../../contexts/AppContext';\nimport { authNeeded, addNavbar } from '../hocs';\n\nconst useStyles = makeStyles(theme => ({\n  fab: { margin: theme.spacing(1) },\n  button: { margin: theme.spacing(1) }\n}));\n\nconst UploadFile = ({ history }) => {\n  const { userGroup, userSession } = useContext(AppContext);\n  const classes = useStyles();\n  const fileInput = useRef(null);\n  const [fileList, setFileList] = useState(null);\n  const [submitted, setSubmitted] = useState(false);\n\n  useEffect(() => {\n    const submitDocuments = async () => {\n      if (submitted) {\n        setSubmitted(false);\n        // TODO add error catching to this async mess\n        await Promise.all(fileList.map(fileObj => new Promise((resolve) => {\n          const reader = new FileReader();\n          reader.onload = async (evt) => {\n            const fileStr = evt.target.result;\n            const sharedDoc = new SharedDocument({\n              name: fileObj.name,\n              extension: fileObj.name.split('.').pop(),\n              mimeType: fileObj.type,\n              userGroupId: userGroup._id,\n              uploadedBy: userSession.loadUserData().username,\n              size: fileObj.size,\n              content: fileStr,\n            });\n            await sharedDoc.save();\n            history.push('/shared');\n            resolve();\n          };\n          reader.readAsDataURL(fileObj);\n        })));\n        // Print some sort of success message here\n        setFileList(null);\n      }\n    };\n    submitDocuments();\n  }, [fileList, userGroup, userSession, submitted, history]);\n\n  const handleFileSubmit = () => {\n    setFileList(Array.from(fileInput.current.files));\n    if (!fileList || !fileList.length) {\n      return;\n    }\n    setSubmitted(true);\n  };\n\n  return (\n    userGroup\n      ? (\n        <div className=\"share-wrapper\">\n          <h2 className=\"share-header\">Share with {userGroup.attrs.name}</h2>\n          <div className=\"share-file-container\">\n            <section className=\"share-file-main\">\n              <div className=\"share-file-upload-file\">\n                <input\n                  id=\"hidden-file-input\"\n                  multiple\n                  type=\"file\"\n                  ref={fileInput}\n                  onChange={() => setFileList(Array.from(fileInput.current.files))}\n                />\n                <label htmlFor=\"hidden-file-input\">\n                  <Fab aria-label=\"add\" component=\"span\" color=\"primary\" className={classes.fab}>\n                    <Add />\n                  </Fab>\n                </label>\n                <p className=\"no-margin\">Click to add</p>\n                <p className=\"no-margin center\">files to share</p>\n                {fileList && fileList.length && (\n                  <>\n                    <div className=\"file-list\">\n                      <h4>Files to share:</h4>\n                      <ul>\n                        {fileList.map(file => <li className=\"no-margin\" key={file.name}>{file.name}</li>)}\n                      </ul>\n                    </div>\n                    <Button\n                      variant=\"contained\"\n                      color=\"primary\"\n                      className={classes.button}\n                      onClick={handleFileSubmit}\n                      fullWidth\n                    >\n                      Send Files\n                    </Button>\n                  </>\n                )}\n              </div>\n              <div className=\"share-file-description\">\n                <h1 className=\"no-margin\"> Simple Private BlockSnack File Sharing</h1>\n                <p>Add the files you'd like to share with your group</p>\n              </div>\n            </section>\n          </div>\n        </div>)\n      : <Redirect to=\"/\" />\n  );\n}\n\nexport default authNeeded(addNavbar(withRouter(UploadFile)));\n","import React, {\n  useEffect,\n  useState,\n  useContext\n} from 'react';\n\nimport { User } from 'radiks';\nimport { Switch, Route } from 'react-router-dom';\n\nimport { AppContext } from '../../contexts/AppContext';\n\nimport Login from '../Login';\nimport LandingPage from '../LandingPage';\nimport CircularProgress from '../CircularProgress';\nimport InvitationPage from '../InvitationPage';\nimport Shared from '../Shared';\nimport UploadFile from '../UploadFile';\n\nconst App = () => {\n  const { userSession } = useContext(AppContext);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const handleSignIn = async () => {\n      if (!userSession.isUserSignedIn() && userSession.isSignInPending()) {\n        await userSession.handlePendingSignIn();\n        await User.createWithCurrentUser();\n      }\n      setLoading(false);\n    };\n    handleSignIn();\n  }, [userSession]);\n\n  return (\n    <>\n      <Switch>\n        <Route exact path=\"/login\" component={Login} />}\n        <Route exact path=\"/\" component={loading ? CircularProgress : LandingPage} />\n        <Route exact path=\"/upload\" component={UploadFile} />\n        <Route exact path=\"/shared\" component={Shared} />\n        <Route path=\"/invitation/:invitation_id\" component={InvitationPage} />\n      </Switch>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport './index.css';\n\nimport App from './components/App';\n\nimport { AppContextProvider } from './contexts/AppContext'\n\nReactDOM.render(\n  <AppContextProvider>\n    <Router>\n      <App />\n    </Router>\n  </AppContextProvider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}